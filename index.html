<!DOCTYPE html>
<html>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <style> circle {fill: lightblue; stroke: black;}</style>
    <body onload="init()">
        <h1>Hello World</h1>
        <P> I'm hosted with GitHub Pages.</P>
        <svg width=300 height="300">   
        </svg>
        <script>
            async function init() {
                const data = await d3.csv(
                    'https://raw.githubusercontent.com/ssong44/ssong44.github.io/main/Life%20Expectancy%20Data.csv');
                var x = d3.scaleLinear().domain([0, 150000]).range([0, 200]);
                var y = d3.scaleLinear().domain([0, 100]).range([200, 0]);
                
                // Axes
                d3.select("svg").append("g")
                    .attr("transform", "translate("+50+", "+50+")")
                    .call(d3.axisLeft(y)
                    .tickValues([100,80,60,40,20])
                    .tickFormat(d3.format("~s")));
                d3.select("svg").append("g")
                    .attr("transform", "translate("+50+", "+(200+50)+")")
                    .call(d3.axisBottom(x)
                    .tickValues([30000, 60000, 90000, 120000, 150000])
                    .tickFormat(d => (d / 1000)));

                // Plot
                d3.select('svg')
                    .attr("width", 200 + 2*50)
                    .attr("height", 200 + 2*50)
                    .append("g")
                        .attr("transform", "translate("+50+", "+50+")")
                    .selectAll('circle').data(data).enter()
                        .append("circle")
                        .attr("cx", function(d) { return x(d.GDP); } )
                        .attr("cy", function(d) { return y(d.Life_expectancy); } )
                        .attr("r", function(d) { return 2 + Number.parseInt(d.Alcohol); } );
            }
        </script>
    </body>
</html>